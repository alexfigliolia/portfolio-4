var t=Object.defineProperty,e=(e,o,s)=>(((e,o,s)=>{o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s})(e,"symbol"!=typeof o?o+"":o,s),s);import{r as o,j as s}from"./index-r74TsC42.js";class n extends o.Component{constructor(t){super(t),e(this,"top",0),e(this,"left",0),e(this,"width",0),e(this,"height",0),this.state={rotX:0,rotY:0,scale:1,bTransDur:.5,boxShadow:"none"},this.touchMoveButton=this.touchMoveButton.bind(this),this.mouseMoveButton=this.mouseMoveButton.bind(this),this.touchEnterButton=this.touchEnterButton.bind(this),this.mouseEnterButton=this.mouseEnterButton.bind(this),this.mouseLeaveButton=this.mouseLeaveButton.bind(this)}shouldComponentUpdate(t,{rotX:e,rotY:o,bTransDur:s,scale:n,boxShadow:i}){const h=this.state;return e!==h.rotX||(o!==h.rotY||(n!==h.scale||(s!==h.bTransDur||i!==h.boxShadow)))}cacheTargetData(t){const e=t,{top:o,left:s,height:n,width:i}=e.getBoundingClientRect();this.top=o,this.height=n;const h=.2*i;this.left=s-h/2,this.width=i+.2*i}getRotations(t,e){const o=e-this.top,s=.5-(t-this.left)/this.width;return[50*(.5-o/this.height),20*s]}setFrame([t,e],o){this.setState({rotX:t,rotY:e,bTransDur:`${o}s`,scale:1.1,boxShadow:`0 ${t}px ${this.height/5}px rgba(0,0,0,0.5), ${t}px ${e}px ${this.width/5}px rgba(0,0,0,0.45)`})}mouseEnterButton({clientX:t,clientY:e,currentTarget:o}){this.cacheTargetData(o),this.setFrame(this.getRotations(t,e),.5)}touchEnterButton({currentTarget:t,touches:e}){this.cacheTargetData(t),this.setFrame(this.getRotations(e[0].clientX,e[0].clientY),.5)}mouseMoveButton({clientX:t,clientY:e}){this.setFrame(this.getRotations(t,e),0)}touchMoveButton({touches:t}){this.setFrame(this.getRotations(t[0].clientX,t[0].clientY),0)}mouseLeaveButton(){this.setState({rotX:0,rotY:0,scale:1,bTransDur:"0.5s",boxShadow:"none"})}render(){const{text:t,onClick:e}=this.props,{rotX:o,rotY:n,bTransDur:i,scale:h,boxShadow:r}=this.state;return s.jsx("button",{onClick:e,className:"outline-button",onMouseEnter:this.mouseEnterButton,onMouseMove:this.mouseMoveButton,onMouseLeave:this.mouseLeaveButton,onTouchStart:this.touchEnterButton,onTouchEnd:this.mouseLeaveButton,onTouchMove:this.touchMoveButton,style:{transform:`rotateX(${o}deg) rotateY(${n}deg) skew(-10deg) scale(${h})`,transitionDuration:`${i}`,boxShadow:r},children:s.jsx("div",{children:t})})}}export{n as B};
